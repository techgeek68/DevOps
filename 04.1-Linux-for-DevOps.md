# 3. Linux for DevOps

## 1. Basic Linux Commands

Linux commands are fundamental tools for DevOps engineers, allowing you to interact with the system, manage files, users, and system resources. Below is an organized guide with explanations and examples to clarify key concepts.

---

### **Core Linux Commands**

- **File/Directory Operations:**  
  - `ls`: List files and directories  
  - `cd`: Change directory  
  - `cp`: Copy files/directories  
  - `mv`: Move/rename files/directories  
  - `rm`: Remove files/directories  
  - `find`: Search for files/directories  

- **Session Basics:**  
  - Power on and log in using your credentials.  
  - `$` → Normal user’s login prompt  
  - `#` → Root user’s login prompt  
  - `~` → Home directory (current user's home folder)  

- **User and Host Info:**  
  - `whoami`: Display the current logged-in user  
  - `hostname`: Show system hostname  
  - `clear`: Clear the terminal screen  
  - `#`: Comment symbol in scripts  

#### **Examples**

```
hostname
```
```
whoami
```
```
clear
```
```
ls
```
```
pwd
```
```
cd /var/log
```

---

### **Changing the Hostname**

- **Syntax:** `hostnamectl set-hostname <hostname>`

- **Example:**

```
sudo hostnamectl set-hostname <new_hostname>
```
```
exec bash
```
```
hostname
```
<img width="660" height="203" alt="Screenshot 2026-01-14 at 6 52 21 AM" src="https://github.com/user-attachments/assets/94bfb74b-e870-48ee-9a83-f2020fd85ab5" />

---

### **Switching between Graphical and Non Graphical Terminals**

- For systems with a GUI:
  - `ALT+CTRL+F1` → Switch to GUI (Graphical)
  - `ALT+CTRL+[F2-F6]` → Switch to non GUI (Terminal)

---

### **User Management**

- **Create a User:**  
  - Syntax: `sudo useradd <username>`

  - Examples:
    ```
    sudo useradd phpdev
    ```
    ```
    sudo useradd javadev
    ```

- **Set Password for User:**  
  - Syntax: `sudo passwd <username>`

  - Examples:
    ```
    sudo passwd phpdev
    ```
    ```
    sudo passwd javadev
    ```
    
<img width="791" height="294" alt="Screenshot 2026-01-14 at 6 56 47 AM" src="https://github.com/user-attachments/assets/63e5747c-d7b5-4c6b-81dd-c5e37d5d8743" />

- **Password Recommendations:**  
  - Use complex passwords (9-12+ characters)
  - Include uppercase, lowercase, numbers, special characters
  - Avoid dictionary words and usernames in the password
  - Set password expiry policies

---

- **Switch User Account:**  
  - Syntax: `su – <username>`

  - Example:
    ```
    su – phpdev
    ```
    ```
    whoami
    ```
    ```
    su – javadev
    ```
    ```
    whoami
    ```
    ```
    exit
    ```

---

- **Changing Another User's Password (as root or with sudo):**
  - Syntax: `passwd <username>`
    
  - Example:
    ```
    sudo passwd phpdev
      # new password: *********
      # confirm: ********
    ```

- **Change Own Password:**  
  - Syntax: `passwd`

  - Example:
    ```
    passwd
    # current password: *********
    # new password: *********
    # confirm: ********
    ```

---

### **File Operations**

- **Create/Edit a File:**  
  - Syntax: `vi <filename>`

  - Example:
    ```
    vi devopsfile
    ```
    >(Press 'i' to insert text. Press 'ESC', then ':wq' to save and exit)

- **List Files/Directories:**  
  ```
  ls
  ```

- **View File Content:**

  - `cat`: Concatenate and display file content  
    - Common options:  
      - `-n`: Number all lines  
      - `-b`: Number only non blank lines  
      - `-s`: Squeeze multiple blank lines

    - Examples:
      ```
      cat /etc/passwd
      ```
      ```
      cat -n file.txt
      ```
      ```
      cat -b file.txt
      ```

  - `tac`: Display file content in reverse
    ```
    tac /etc/passwd
    ```

  - `more`: Page by page file viewer (forward only)
    ```
    more /etc/passwd
    ```

  - `less`: Scrollable file viewer (forward/backward)
    ```
    less /etc/passwd
    ```
    ```
    less -N /etc/passwd
    ```

  - `head`: Show first N lines
    ```
    head /etc/passwd
    ```
    ```
    head -n 5 file.txt
    ```

  - `tail`: Show last N lines or follow file in real-time
    ```
    tail /etc/passwd
    ```
    ```
    tail -n 20 /etc/passwd
    ```
    ```
    tail -f /etc/passwd                                          #It's useful for watching log files in real time.
    ```

---

- **View Current Working Directory:**  
  ```
  pwd
  ```
  *(Example output: /home/user_name)*

---

- **Create and change Directory:**  
  - Syntax: `mkdir <dir_name> ...`

  - Example:
    ```
    mkdir devops
    ```
    ```
    mkdir dir1 dir2 dir3
    ```
    ```
    pwd
    ```
    ```
    cd dir1
    ```
    ```
    pwd
    ```
    ```
    cd                                                            #Back to the home directory.
    ```

- **Create Tree Structure of Directories:**
  ```
  mkdir -p SoftTech/{Administration,Developer,Operation}
  ```
  ```
  tree SoftTech
  ```
  ```
  mkdir -p SoftTech/{Administration,Developer/{Jr.Dev,Sr.Dev},Operation}
  ```
  ```
  tree SoftTech
  ```
  
<img width="792" height="408" alt="Screenshot 2026-01-14 at 6 59 34 AM" src="https://github.com/user-attachments/assets/023145cd-1ac7-4f6c-be88-f4d5a5b7837a" />

---

#### **Path Specifications**

- **Absolute Path:**  
  ```
  cd ~/SoftTech/Developer/Jr.Dev
  ```
  ```
  pwd
  ```
<img width="795" height="241" alt="Screenshot 2026-01-14 at 7 02 02 AM" src="https://github.com/user-attachments/assets/8d8ad94e-355c-49e6-9eb9-f7517fb8a2b4" />

- **Relative Path:**  
  ```
  vi ../../Operation/operationfile
  ```
  ```
  This is the operation department's file.
  ```
  ```
  cd
  ```
  ```
  tree SoftTech
  ```

<img width="792" height="278" alt="Screenshot 2026-01-14 at 7 03 59 AM" src="https://github.com/user-attachments/assets/3506b96f-5982-4aef-99c1-261c5b399346" />

---

### **Hidden Files/Directories**

- **Create Hidden Directory/File:**

Examples:
  ```
  mkdir .hiddendir
  ```
  ```
  vi .hiddenfile
  ```
  ```
  ls
  ```
  ```
  ls -a
  ```
<img width="793" height="120" alt="Screenshot 2026-01-14 at 7 12 24 AM" src="https://github.com/user-attachments/assets/c7710856-125e-4812-94bb-0e5ad94cb854" />

---

### **Files/Directories with Special Characters**

- **Create Files/Dirs with Spaces/Special Characters:**

Examples:
  ```
  vi "backup file"
  ```
  ```
  mkdir "my new @dir"
  ```
  ```
  mkdir back\ up\ directory
  ```
  ```
  ls
  ```
<img width="795" height="205" alt="Screenshot 2026-01-14 at 7 18 41 AM" src="https://github.com/user-attachments/assets/286b6c5f-e476-49d7-b226-093d92a7fe3b" />


---

### **Create Empty File**

Syntax: `touch <file_name>`

Example:
```
touch emptyfile
```

---

### **Rename File/Directory**

Syntax: `mv <old_name> <new_name>`

Example:
```
mv emptyfile newfile
```

---

### **Move File/Directory**

Syntax: `mv <source> <destination>`

Examples:
```
mv newfile 'my new @dir'
```
```
ls 'my new @dir'
```

```
mv my\ new\ @dir/newfile SoftTech/Developer/
```
> Note: Use `-i` to avoid overwriting.
```
tree SoftTech
```
<img width="791" height="280" alt="Screenshot 2026-01-14 at 7 25 27 AM" src="https://github.com/user-attachments/assets/b4bd48d3-56e0-458a-82e0-3c1148bf7915" />

---

### **Copy File/Directory**

Syntax: `cp <source> <destination>`

- To copy directories, use `-r`.

```
  cp -r my\ new\ @dir SoftTech
```
```
tree SoftTech
```
<img width="790" height="298" alt="Screenshot 2026-01-14 at 7 27 32 AM" src="https://github.com/user-attachments/assets/6649f0cc-29a2-4471-bf92-873d2348f2d1" />

```
touch copyfile
```
```
mkdir copyexample
```
```
cp copyfile copyexample
```
```
ls
```
```
ls copyexample
```

---

### **Remove File/Directory**

```
rm copyfile
```
```
rm -r copyexample
```

---

### **Search Within Files: `grep`**

Examples:
```
grep phpdev /etc/passwd
```
```
cat /etc/passwd | grep javadev
```

---

### **Pipelining Commands**

Pipelining connects commands so the output of one becomes the input of the next.

Example:
```
vi mixfile
```
```
This is the first line.
This is the second line.
This is the third line.
This is the fourth line.
This is the fifth line.
This is the sixth line.
```
```
cat mixfile | grep is
```
```
cat mixfile | grep fi
```
```
cat mixfile | grep is | wc -l
```

---

### **Compressing Files**

- **gzip:** Compresses files to .gz format.  
  - To keep original file: `gzip -k <file>`

```
cp /usr/share/dict/words  .
```
```
cat words
```
```
gzip -v words
```
```
gunzip -v words.gz
```

```
gzip -vk words
```

![Screenshot 2026-01-14 at 7 43 25 AM](https://github.com/user-attachments/assets/24a24850-7491-4548-82d2-6c88b8751a28)


**Compressing tools table**

| Tool      | Compress (delete original) | Compress (keep original) | Decompress             |
|-----------|---------------------------|--------------------------|-------------------------|
| gzip      | `gzip words`              | `gzip -k words`          | `gunzip words.gz`       |
| bzip2     | `bzip2 words`             | `bzip2 -k words`         | `bunzip2 words.bz2`     |
| xz        | `xz words`                | `xz -k words`            | `unxz words.xz`         |
| zip       | `zip words.zip words`     | N/A (zip doesn’t delete) | `unzip words.zip`       |
| tar+gzip  | `tar -czvf words.tar.gz words` | N/A                  | `tar -xzvf words.tar.gz`|
| tar+bzip2 | `tar -cjvf words.tar.bz2 words` | N/A                 | `tar -xjvf words.tar.bz2`|
| tar+xz    | `tar -cJvf words.tar.xz words` | N/A                  | `tar -xJvf words.tar.xz`|

- Note:  
  - Use `-v` for verbose output.
  - Use `-k` to keep the original file (where supported).
  - `tar` is used to package multiple files/directories before compressing.

---

### **Archiving Files with `tar`**

Archiving combines multiple files into one file, optionally with compression.

- Syntax:
    `tar -cvf <archive_name.tar> <file_&_dir_to_archive>`

| Option | Meaning                                               |
|--------|-------------------------------------------------------|
| `-c`   | **Create** a new archive                              |
| `-x`   | **Extract** files from an archive                     |
| `-v`   | **Verbose** output; lists files processed             |
| `-f`   | **File** name of the archive to create or extract     |
| `-z`   | **Compress** archive using gzip (for `.tar.gz` files) |
| `-j`   |	Compress archive using bzip2 (for .tar.bz2 files)    |
| `-t`   | **List** contents of the archive                      |

    
**Examples:**

**- Example 1**
- Create a file and a directory to archive
  ```
  mkdir dir1
  touch file1
  touch file2
  ```
  
- Create an archive (no compression):
  ```bash
  tar -cvf backup.tar file1 file2 dir1
  ```

- Create a compressed archive (gzip):
  ```bash
  tar -czvf archive_name.tar.gz file1 dir1
  ```

**- Example 2**
- **Create sample files:**
  ```bash
  touch sourcefile{1..20}
  ```

- **Archive multiple files:**
  ```bash
  tar -cvf source_archive.tar source*
  ```

- **Create a compressed archive:**
  ```bash
  tar -czvf compress_archive.tar.gz source*
  ```

- **List contents of an archive:**
  ```bash
  tar -tvf source_archive.tar
  ```

- **List contents of a compressed archive:**
  ```bash
  tar -tzvf compress_archive.tar.gz
  ```

- **Extract files from an archive:**
  ```bash
  tar -xvf source_archive.tar
  ```

- **Extract files from a compressed archive:**
  ```bash
  tar -xzvf compress_archive.tar.gz
  ```

---

### **System Information Commands**
```bash
hostname                   #Prints the machine’s network name.
```

```bash
uname -a                   #Shows kernel and basic system info.
```

```bash
hostnamectl                #Shows host info and OS/kernel metadata.
```

```bash
cat /etc/os-release        #Shows the distribution name and version.
```

```bash
lscpu                      #Summary of CPU architecture and cores.
```

```bash
cat /proc/cpuinfo          #Detailed per-CPU information.
```

```bash
free -h                    #Human readable RAM and swap usage.
```

```bash
cat /proc/meminfo          #Low level memory statistics.
```

```bash
vmstat                     #Live view of CPU/memory/IO activity.
```

```bash
lsblk                      #Lists block devices and their mount points.
```

```bash
df -h                      #Shows disk usage for mounted filesystems.
```

```bash
uptime                     #System runtime and load averages.
```

```bash
who                        #Lists users currently logged in.
```

```bash
id                         #Shows current user and group IDs.
```

```bash
top                        #Real time processes and resource usage (interactive).
```

```bash
htop                       #Enhanced interactive process viewer (if installed).
```

<img width="1277" height="424" alt="Screenshot 2025-10-16 at 10 34 43 AM" src="https://github.com/user-attachments/assets/a5f43508-a78d-47ae-a14f-26777ed1c1b5" />

---

### **Linux Filesystem Hierarchy**

- `/`: Root directory. The top of the directory tree.
- `/boot`: Boot loader files, Linux kernel, initialization files needed for booting.
- `/dev`: Device files representing hardware devices (disks, terminals, printers, etc.).
- `/etc`: System-wide configuration files and shell scripts used to boot and configure system settings.
- `/home`: User home directories. Each user gets a personal directory (e.g., /home/techgeek68).
- `/lib`: Essential shared libraries and kernel modules for the binaries in /bin and /sbin.
- `/media`: Mount point for removable media (CD-ROMs, USB drives, etc.).
- `/mnt`: Temporary mount point for filesystems (often used for manual mounts).
- `/opt`: Optional, third-party or add-on application packages.
- `/proc`: Virtual filesystem providing process and kernel information as files.
- `/root`: Home directory for the root (administrator) user.
- `/run`: Runtime data for processes started since last boot; system information.
- `/sbin`: System binaries for administration, system maintenance (meant for root user).
- `/srv`: Data for services provided by the system (e.g., web, FTP).
- `/sys`: Virtual filesystem, exposes kernel and hardware info.
- `/tmp`: Temporary files, cleared on reboot.
- `/usr`: User utilities & applications (read-only after installation)
- `/usr/bin`: Non-admin user commands.
- `/usr/sbin`: Admin commands for system management.
- `/usr/lib`: Libraries for /usr/bin and /usr/sbin.
- `/usr/local`: Locally installed software and scripts (not managed by distribution package manager).
- `/usr/share`: Architecture-independent shared data (docs, icons, etc.).
- `/var`: Variable files, logs, mail spools, print queues, caches
- `/var/log`: Log files
- `/var/mail`: Mailboxes
- `/var/spool`: Task spools (print jobs, mail, etc.)
- `/var/tmp`: Temporary files preserved between reboots

---

## 2. Getting Help in Linux

Linux provides several built-in tools to help you understand commands and troubleshoot problems.

**a. `man` (Manual Pages)**

- Shows detailed documentation for commands.
- Syntax: `man <command>`
- Navigation:
  - **Arrow keys / Page Up / Page Down** — Move through the content
  - `Space` — Scroll down one page
  - `b` — Scroll up one page
  - `/text`: Search for text
    - `n`: Next occurrence
    - `N`: Previous occurrence
  - `q`: Quit the man viewer.

**Example:**

```
man ls
```

---

**b. `--help` Option**

- Quick overview of command usage and options.
- Syntax: `<command> --help`

**Examples:**

```
cp --help
```
```
ls --help | grep sort
```

---

**c. `info` (GNU Info Pages)**

- Detailed, node-based help for GNU commands.
- Sometimes more comprehensive than man pages.
- Syntax: `info <command>`
- Navigating:
  - **Arrow keys / Page Up / Page Down**: Move up and down through the content.
  - **Space**: Scroll down one page.
  - **Backspace**: Scroll up one page.
  - **Enter**: Follow the selected menu link or reference.
  - **n**: Go to the next node (section).
  - **p**: Go to the previous node.
  - **u**: Move up one node (to the parent section).
  - **l**: Return to the last node visited.
  - **m**: Jump to a menu item (type its name, then Enter).
  - **d**: Go to the directory node (main index).
  - **s**: Search for a menu item by name.
  - **/text**: Search for text within the current node.
    - **n**: Next occurrence of the search term.
    - **N**: Previous occurrence of the search term.
  - **q**: Quit the info viewer.

**Examples:**

```
info ls
```
```
info mv
```

---

### **Searching for Commands**


a. `apropos`

- Searches for commands related to a keyword or description.

```bash
apropos copy               #Searches man pages for commands related to a keyword.
```

b. `whatis`

- Shows a brief, one-line description of a command.

```bash
whatis tar                 #Shows a one line description of a command.
```

c. `type`

- Tells how a command is interpreted (binary, alias, shell builtin, function).

```bash
type ls                    #Shows how the shell resolves a command.
```

d. `which`

- Shows the full path of the executable for a command.

```bash
which python               #Displays the full path of the executable in PATH.
```

e. `whereis`

- Finds the location of the binary, source, and man pages for a command.

```bash
whereis ls                 #Finds binary, source, and man page locations.
```

---

## I/O Redirection and Pipelines

```bash
echo "Hello" > output.txt           #Overwrite (create/truncate) file with output.
```

```bash
echo "World" >> output.txt          #Append output to the end of the file.
```

```bash
cat < output.txt                    #Read from file (feed file as stdin to cat).
```

```bash
ls /nonexistent 2> error.log        #Redirect standard error (stderr) to a file.
```

```bash
ls /nonexistent &> all.log          #Redirect both stdout and stderr to a file (bash shorthand).
```

```bash
command > /dev/null 2>&1            #Discard stdout and stderr (ignore all output).
```

```bash
ls -l | grep ".txt" | wc -l         #Pipe listing through grep and count .txt files.
```

```bash
cat /etc/passwd | grep "/bin/bash"  #Show passwd entries whose shell is /bin/bash.
```

```bash
ps aux | sort -rk 3,3 | head -n 5   #List top 5 processes sorted by CPU usage.
```

---

### **Why These Skills Matter in DevOps**

DevOps engineers regularly automate tasks, troubleshoot problems, and manage servers. Mastering Linux commands enhances efficiency, facilitates scripting and automation (using Bash, Python, etc.), and enables you to quickly resolve issues in complex environments.

**Examples: Automating and Managing with Linux Commands**

```bash
cat /etc/passwd | grep '/bin/bash' | wc -l > bash_user_count        #Counts users with /bin/bash as their shell and saves the result.
```

```bash
journalctl -f                                                       #Monitors systemd journal logs in real time.
```

```bash
sudo dmesg -w                                                      #Shows kernel ring buffer messages live.
```

```bash
tar -czvf website_backup.tar.gz /var/www/html                      #Archives and compresses the website directory.
```

```bash
zip -r website_backup.zip /var/www/html                            #Archives and compresses the website directory using zip.
```

```bash
find /var/www/html -type f -size +100M                             #Lists files larger than 100MB in the web directory.
```

```bash
du -sh /var/www/html                                               #Shows the total size of the web directory.
```

```bash
df -h                                                               #Displays disk space usage for all mounted filesystems.
```

```bash
grep "error" /var/log/syslog                                        #Finds lines containing "error" in the syslog.
```

```bash
grep -r "404" /var/www/html/                                        #Recursively finds "404" in all files under /var/www/html/.
```

```bash
ps aux                                                              #Lists all running processes.
```

```bash
top                                                                 #Interactive real time view of processes and resource usage.
```

```bash
htop                                                               #Enhanced, interactive process viewer (if installed).
```

```bash
netstat -tuln                                                      #Lists all active listening ports and connections.
```

```bash
ss -tuln                                                          #Modern replacement for netstat; shows active listening sockets and connections.
```

---
